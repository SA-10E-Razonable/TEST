<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Match Your Beat</title>

	<link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
	<script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

	<style>
		/* Page background and font */
		body {
			font-family: 'HK Modular', sans-serif;
			background: url("background.png");
			background-size:100% 103%;
			min-height: 100vh;
			margin: 0;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		/* Main container */
		#container {
			max-width: 1200px;
		}

		/* Input rows for energy and tempo */
		#input-row-energy, #input-row-tempo {
			display: flex;
			align-items: center;
			margin-bottom: 30px; /* space between rows */
		}

		/* Circle styles for energy and tempo */
		#circle-energy {
			width: 180px;
			height: 180px;
			border-radius: 50%;
			background: #2d94af;
			color: white;
			font-size: 2rem;
			font-weight: 700;
			line-height: 1.2;
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
			z-index: 2;
			margin-top:-100px; /* move energy circle up */
		}

		#circle-tempo {
			width: 180px;
			height: 180px;
			border-radius: 50%;
			background: #2d94af;
			color: white;
			font-size: 2rem;
			font-weight: 700;
			line-height: 1.2;
			display: flex;
			align-items: center;
			justify-content: center;
			text-align: center;
			z-index: 2;
		}

		/* Input bars */
		#bar-energy {
			width: 600px;
			height: 140px;
			margin-left:-100px;
			border-radius: 60px;
			border: 4px solid #0b2f33;
			background: white;
			font-size: 2.2rem;
			text-align: center;
			color: #083335;
			margin-top:-100px; /* move energy bar up with circle */
		}

		#bar-tempo {
			width: 600px;
			height: 140px;
			margin-left: -100px;
			border-radius: 60px;
			border: 4px solid #0b2f33;
			background: white;
			font-size: 2.2rem;
			text-align: center;
			color: #083335;
		}

		/* Placeholder text style */
		#bar-energy::placeholder, #bar-tempo::placeholder {
			color: #9aaeb0;
			font-weight: 500;
		}

		/* View Results button */
		#view-results{
			color: #c24b3b;
			font-weight: bold;
			font-size: 2.7rem;
			cursor: pointer;
			margin-left:1030px; /* position on screen */
			margin-top:-350px;
			text-align: center;
		}

		/* Result text style */
		.result-text {
			color: #c24b3b;
			font-weight: bold;
			font-size: 4rem;
			margin-top:300px; /* gap from button */
			margin-left:-200px; /* align result */
		}
	</style>
</head>

<body>
	<div id="container">
		<!-- Energy input row -->
		<div id="input-row-energy">
			<div id="circle-energy">
				ENERGY<br>LEVEL
			</div>
			<input
				id="bar-energy"
				type="number"
				placeholder="1â€“100">
		</div>

		<!-- Tempo input row -->
		<div id="input-row-tempo">
			<div id="circle-tempo">
				TEMPO<br>LEVEL
			</div>
			<input
				id="bar-tempo"
				type="number"
				placeholder="1â€“100">
		</div>

		<!-- Button to show result -->
		<div id="view-results"> 
			<u>View Results</u>  /* looks clickable */
		</div>
	</div>

<!-- Container to show result -->
<div id="result-container"></div>

<py-script>
from pyscript import document, when

# When "View Results" is clicked
@when("click", "#view-results")
def show_results(e=None):
    container = document.getElementById("result-container")
    container.innerHTML = ""  # clear previous results

    # Get input values
    energy_input = document.getElementById("bar-energy").value
    tempo_input = document.getElementById("bar-tempo").value

    # Stop if inputs are empty
    if not energy_input or not tempo_input:
        return

    energy = float(energy_input)
    tempo = float(tempo_input)

    # Stop if values are invalid
    if energy < 0 or energy > 100 or tempo < 0 or tempo > 100:
        return

    # Calculate average beat
    beat = (energy + tempo) / 2

    # Determine music style
    if beat <= 40:
        style = "Lo-Fi ðŸŽ§"
    elif beat <= 70:
        style = "Pop ðŸŽµ"
    elif beat <= 90:
        style = "Rock ðŸ”¥"
    else:
        style = "Metal âš¡"

    # Show result below the button
    output = f"""
        <div class="result-text">
             {style}
        </div>
    """
    container.innerHTML = output
</py-script>

</body>
</html>








